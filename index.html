<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbxCIvR0OiLvMBFnRKv_G2pibOyo9Kxb1MwFkvcGX_Vb9Yh8hlrbiGiyfmEf1NLyipkBpg/exec";

const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if (!id) {
  document.body.innerHTML = "<h2>Invalid link</h2>";
}

document.getElementById("accept").onclick = function() {
  fetch(scriptURL)
    .then(response => response.json())
    .then(data => {
      if (data[id]) {
        window.location.href = data[id];
      } else {
        alert("Video not found.");
      }
    })
    .catch(error => {
      alert("Error loading video link.");
      console.error(error);
    });
};
</script>
